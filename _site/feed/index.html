<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
        xmlns:content="http://purl.org/rss/1.0/modules/content/"
        xmlns:atom="http://www.w3.org/2005/Atom"
  >
  <channel>
    <title>Spatial-R</title>
    <atom:link href="http://spatial-r.github.io/cn/feed/" rel="self" type="application/rss+xml" />
    <link>http://chengjun.github.io</link>
    <lastBuildDate>2015-09-13T01:28:48+08:00</lastBuildDate>
    <webMaster>wangchj04@gmail.com</webMaster>
    
    <item>
      <title>surveillance 程序包简介(一):时空多成分模型</title>
      <link>http://spatial-r.github.io/cn/2015/09/Spatial-temporal-Multicomponent-Model/</link>
      <pubDate>2015-09-13T00:00:00+08:00</pubDate>
      <author>Spatial-R</author>
      <guid>http://spatial-r.github.io/cn/2015/09/Spatial-temporal-Multicomponent-Model</guid>
      <content:encoded><![CDATA[<p>Welocome to the surveillance project again! 这是一篇针对<a href="http://surveillance.r-forge.r-project.org/">Surveillance</a>程序包中<strong>时空多成分模型</strong>( <strong>Spatial-temporal Multicomponent Model</strong>)的文章。时空多成分模型是surveillance程序包提供的四大分析模块之一(<strong>Outbreaks detection</strong>, <strong>Endemic-epidemic Spatio-temporal Point Process Intensity Model</strong>, <strong>SIR event history of a fixed population</strong> 和 <strong>Spatial-temporal Multicomponent Model</strong>)，自去年10月份开始接触，期间走了很多弯路(学习过程)，故将相关教训在此文中分享，希望对时空流行病学感兴趣的朋友能够尽快熟悉该模型并能应用于自己的数据。英文功底不错的建议阅读该程序包的英文说明<a href="http://arxiv.org/pdf/1411.0416.pdf">文档</a>。如果您发现此文中的错误，也恳请留言指出，在此特表感谢。</p>

<hr />

<h2>模型综述</h2>

<p>时空多成分模型(Spatial-temporal Multicomponent Model)的简约版最初由<a href="http://www.researchgate.net/profile/Michael_Hoehle/publication/45138457_A_statistical_framework_for_the_analysis_of_multivariate_infectious_disease_surveillance_data/links/0c960520b310bb8378000000.pdf">Held et al. (2005)</a>提出，并应用于麻疹疫情中[PS: 基于浙江省麻疹疫情已写了篇类似的文章，已投中华流行病学杂志]。<a href="http://biostatistics.oxfordjournals.org/content/7/3/422.full">Leonhard Held et al.(2006)</a>在“A two-componet model for counts of infectious disease”一文中构建了随机双成分(<strong>相互独立</strong>)模型，包括<strong>局部特性成分</strong>(Endemic Component)和<strong>时间流行成分</strong>(Epidemic  Component)，其中局部特性成分控制季节效应的影响，时间流行成分同时考虑了疾病疫情的时间相关性和暴发影响。该模型假设时序数据服从Generalised Branching Process with Immigration，
并分别对甲肝和乙肝进行了拟合。在surveillance程序包中，基础模型中将时序数据分为三个成分：局部特性成分(Endemic component, end)、时间自相关成分(Autoregressive component，ar)和空间流行成分(Epidemic component, ne)，并在公式中分别用$ν<em>(i,t)$、$λ</em>(i,t)$和$ϕ_(i,t)$表示。其中局部特性成分反映疫情的本地风险情况，时间自相关成分反映的是过去时段疫情在时间维度上产生的影响，而空间流行成分反映的是邻近单元对目标单元产生的影响(可根据多种空间权重矩阵来定义<strong>邻近</strong>)。具体的公式如下：</p>

<p><img src="https://raw.githubusercontent.com/Spatial-R/cn/gh-pages/images/MulticomponentModel/mathjax.png" alt="" /></p>

<p>$γ<em>0$、$α</em>0$  和 $β<em>0$分别代表了三成分的截距，$γ</em>i$、$α<em>i$  和 $β</em>i$ 分别代表三成分的随机效应，都服从均值为0的正态分布；γ、α 和 β分别代表了协变量 $z<em>(i,t)<sup>T</sup>$、$μ</em>(i,t)<sup>T</sup>$  和 $x<em>(i,t)<sup>T</sup>$ 对局部特性成分、时间自相关成分和空间流行成分的作用强度。其中协变量$z</em>(i,t)<sup>T</sup>$在本研究中包含了季节效应${∑<em>(s=1)<sup>S</sup>[κ</em>s  sina(τ<em>s t)+δ</em>s cosa(τ<em>s t)]}$，其中S代表周期数，$τ</em>s=2πs/freq$。</p>

<hr />

<h2>模型优点</h2>

<p>surveillance程序包中的时空多成分模型相关优点主要体现在如下几个方面：</p>

<ol>
<li><strong>空间权重</strong>：多种方式定义研究单元的邻近性</li>
<li><strong>协变量纳入</strong>：自变量反映局部和时序关系</li>
<li><strong>随机效应</strong>：考虑区域的空间异质性</li>
</ol>


<p>空间权重对空间分析影响较大，其设置方式是空间分析中老生常谈的话题。surveillance程序包除提高基本的空间权重矩阵外(如一阶queen邻近等，具体见<a href="https://cran.r-project.org/web/packages/spdep/index.html">spdep</a>程序包)，还提供<a href="http://www.medscape.com/medline/abstract/24843881"><strong>Power-law</strong></a>算法，能更好模拟传染病远距离传播的特性(在一定距离范围内快速递减)。</p>

<p>协变量纳入不仅可在控制其他效应后准确度量协变量和结局变量之间的关系，也能较高地提高模型拟合度(AIC)。协变量一般纳入局部特性成分或时间自相关成分，借以反映其在局部疫情风险和时序效果上的影响，当然，将协变量得系数恒设为1进而转变成offset。不管何种方式，都可以借助AIC值来选择最优拟合模型，尽管有研究表明将易感人群比例值纳入时间自相关成分效果较佳(见<a href="http://journals.cambridge.org/article_S0950268810001664">此文</a>)。</p>

<p>随机效应在协变量不能完全反映研究单元的空间异质性时，能显著提高模型的预测力。时空多成分模型中纳入随机效应最初由<a href="http://onlinelibrary.wiley.com/doi/10.1002/sim.4177/abstract">M. Paul and Held L(2010)</a>提出，极大提高了模型的适用度。对于传染病大疫情的监测数据，无法观测的空间异质性主要体现在underreporting。针对不同研究单元不同成分随机效应的可视化，可为卫生决策者提供较好的干预措施，若某区域麻疹的局部特性成分较大，则说明麻疹疫情的本地风险较大，进一步巩固本地免疫屏障则显得尤为重要。</p>

<hr />

<h2>具体实例</h2>

<h3>STS格式文件</h3>

<p>surveillance程序包中提供<strong>hhh4</strong>函数来拟合时空多成分模型，其所需的数据格式为sts(surveillance time series)。sts数据需包括以下几个部分：<strong>疫情数据</strong>，<strong>人口数据</strong>，<strong>空间邻阶数据</strong>,<strong>地图数据</strong>或和<strong>协变量数据</strong>。可借助<strong>new</strong>函数生成sts数据，示例代码如下：</p>

<pre><code>measlesWeserEms &lt;- new("sts", start = c(2013, 1), freq =365, epoch = 1:nrow(dat.final),
                observed = dat.final, neighbourhood = weserems_nbOrder,
               map = dat.zj, populationFrac = populationFrac)
</code></pre>

<p>此处，我的数据是逐日数据，因而freq设置为365，dat,final是疫情数据，dat.zj是地图数据，populationFrac是人口比例数据(研究单元人口占总研究单元人口数的百分比)。此处一定需注意各个数据集之间匹配问题，也就是变量名一定要一致(重要的事情不说三遍!!!)。对于空间邻阶文件，可通过spdep程序包中的<strong>poly2adjmat</strong>和<strong>nbOrder</strong>函数来生成，但需注意孤立区域，如浙江省的洞头县尽管从地图属性是孤立的，但考虑传染病的扩散特性，还是将其设置为与乐清市相邻。</p>

<h3>数据可视化</h3>

<p>此处，利用surveillance自带的measlesWeserEms数据集来实现下面的操作：数据可视化和数据分析。时间序列可视化的部分代码如下：</p>

<pre><code class="r">library(surveillance)
data(measlesWeserEms)
measlesWeserEms15 &lt;- measlesWeserEms[, colSums(observed(measlesWeserEms)) &gt; 6]
plot(measlesWeserEms15, type =observed ~ time | unit, legend.opts = NULL)
</code></pre>

<p><img src="https://raw.githubusercontent.com/Spatial-R/cn/gh-pages/images/MulticomponentModel/visualization-2.png" alt="" /></p>

<p>你可以调节type参数的值，如“observed ~ time”或“observed ~ unit”等来达到不同的可视化效果，其采用的是spplot和lattice绘图系统，若想调节图形相关参数的可查阅程序包的帮助文档。当然，也可以用ggplot2和gridExtra程序包，分别实现数据可视化和图形组合(推荐之至)。</p>

<h3>模型拟合</h3>

<p>此处先拟合基础模型，其包括三成分，其中各研究单元的人口比例值作为offset结合地域面积来反映人口密度，局部特性成分控制季节效应，时间流行成分和空间流行成分(一阶邻近)都只包括截距项。为控制研究区域疫情的过度离散特性，采用负二项分布(NegBin1)进行拟合，当然也可以选择p泊松分布(Possion)。相关代码如下：</p>

<pre><code class="r">measlesModel_basic &lt;- list( 
end = list(f = addSeason2formula(~1 + t, period = measlesWeserEms@freq),offset = population(measlesWeserEms)), 
ar = list(f = ~1),ne = list(f = ~1, weights = neighbourhood(measlesWeserEms) == 1), family = "NegBin1")
measlesFit_basic &lt;- hhh4(stsObj = measlesWeserEms, control = measlesModel_basic)
summary(measlesFit_basic, idx2Exp = 1:4, amplitudeShift = TRUE, maxEV = TRUE)
</code></pre>

<pre><code>## 
## Call: 
## hhh4(stsObj = measlesWeserEms, control = measlesModel_basic)
## 
## Coefficients:
##                       Estimate   Std. Error
## exp(ar.1)              0.645403   0.079270 
## exp(ne.1)              0.015805   0.004200 
## exp(end.1)             1.080248   0.278839 
## exp(end.t)             1.001185   0.004264 
## end.A(2 * pi * t/52)   1.164231   0.192124 
## end.s(2 * pi * t/52)  -0.634360   0.133500 
## overdisp               2.013839   0.285441 
## 
## Epidemic dominant eigenvalue:  0.72 
## 
## Log-likelihood:   -971.72 
## AIC:              1957.44 
## BIC:              1995.72 
## 
## Number of units:        17 
## Number of time points:  103
</code></pre>

<p>summary函数中idx2Exp是一个简单系数转换参数，此处是将系数中的ar.1，ne.1，end.1和end.t转换成其对数值，至于为什么要转换，看看基础模型的公式即可知。Epidemic dominant eigenvalue表示疾病发病率中空间流行成分百分值，更进一步的可视化形式如下:</p>

<pre><code class="r">districts2plot &lt;- names(which(colSums(observed(measlesWeserEms)) &gt; 20))
plot(measlesFit_basic, type = "fitted", units = districts2plot, hide0s = TRUE)
</code></pre>

<p><img src="https://raw.githubusercontent.com/Spatial-R/cn/gh-pages/images/MulticomponentModel/visualization-2.png" alt="" /></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>R中SPODT介绍: 基于斜分类树的空间聚集性探测</title>
      <link>http://spatial-r.github.io/cn/2015/07/SPODT-IN-R/</link>
      <pubDate>2015-07-01T00:00:00+08:00</pubDate>
      <author>Spatial-R</author>
      <guid>http://spatial-r.github.io/cn/2015/07/SPODT-IN-R</guid>
      <content:encoded><![CDATA[<h2>空间聚集丛探测常用方法</h2>

<hr />

<p>流行病学中一个较为常见的问题就是探测疾病的空间聚集丛, 包括<strong>热点</strong>(hot spot)或<strong>冷点</strong>(cold spot), 主要分为全局性探测(Globe Detection),局部性(Local detection)探测和焦点探测(Force Decetion)。全局性探测的方法有<strong>样方分析法</strong>(Quadrat analysis), <strong>最近邻分析法</strong>(Nearest neighbor analysis), <strong>Ripley's K 函数法</strong>, <strong>Cuzick-Edwards法</strong>, <strong>全局空间自相关分析法</strong>(Global spatial autocorrelation analysis)和 <strong>Tango最大超额事件检验法</strong>；局部性探测的分析方法有<strong>空间扫描统计量</strong>(Spatial scan statistic), <strong>Besag-Newell法</strong>, <strong>聚集性评价排列组合法</strong>和<strong>局部空间自相关法</strong>;焦点探测的分析方法主要为<strong>Stone检验法</strong>, <strong>Lawson-Waller得分检验法</strong>和<strong>Diggle检验</strong>,各个方法的描述可参考<a href="http://www.cnki.com.cn/Article/CJFDTOTAL-JBJC201005019.htm">Here1</a>, <a href="http://spatial-r.github.io/cn/2015/01/Spatial-and-Spatial-temporal/">Here2</a>。</p>

<hr />

<h2>SPODT 简介</h2>

<p>SPODT的全称是Spatial Oblique Decision Tree, 一种基于斜决策树(Oblique decision tree)的空间分类方法。对于空间流行病数据而言，这种非参回归方法通过递归方式在整个研究区域不断寻找阈值范围或者边界，使得不同区域内的差异尽可能大。相对于分类与回归树方法(Classification and regression tree, CART)而言，斜决策树可以将研究区域进行斜划分，而非局限的矩形(CART划分结果)。与上述局部性探测方法相比较，对该方法对边缘效应的敏感性要低很多。</p>

<hr />

<h3>方法介绍</h3>

<p>总的说来，斜决策树是CART的改版，其函数形式如下:</p>

<p>$$
z<em>{i}=f(x</em>{i},y<em>{i})+\epsilon</em>{i}  \
f(x<em>{i},y</em>{i})=\sum\limits<em>{j=1}^{P} mz</em>{j}\prod{\small(x<em>{i},y</em>{i})\in{class_{j}}}
$$</p>

<p>其中$x<em>{i}$,$y</em>{i}$是位置点$i$的经纬度对于小区域最好采用欧几里德或地理坐标系统(<strong>注意</strong>:若不进行正确投影，可能会得到错误的结果)。$class<em>{j}$是将整个研究区域划分后形成的子区域个数$mz</em>{j}$是所有子区域内样点观测值的均值。所有不同区域间的边界线($s<em>{j}(x</em>{i}+y<em>{i})$)是基于平行坐标系的线性函数($ax</em>{i}+by_{i}+c=0$)这些边界线或是分割方向对每个位置点(也称为结点$\xi$)进行反复迭代，最终将区域划分为若干个子区域。当结点达到如下条件时，该区域不再增加样本点:</p>

<ol>
<li>新的区域划分不再增加变异性，也就是说该区域内新增样本点时不会产生新变异。</li>
<li>结点的大小不能低于事先设定好的样本点大小(parent node)。</li>
<li>当划分子区域时两个子区域的大小不能低于子区域最小值(child node)。</li>
<li>达到分类树水平的最大值。</li>
</ol>


<p>总的说来SPODT中提供了三个重要函数即<strong>spodt</strong>, <strong>spodt.tree</strong>, <strong>spodtSpatialLines</strong>,和<strong>test.spodt</strong>。spdot是核心函数，其中的weight, graft,level.max, min.parent, min.child和rtwo.min参数可详细控制斜分类树算法；spodt.tree和spodtSpatialLines是spdot后结果的可视化；test.spodt是采用蒙托卡罗模拟来检验分类的有效性。</p>

<hr />

<h3>例子</h3>

<p>此处选择了Bandiagara区域分布在168个地点的300个儿童数据，观察该人群在2009年11月-12月中疟疾的发病情况来探测是否存在疟疾高风险区。该数据集为SPODT程序包自带，因而data函数带入即可。基础分析代码如下:</p>

<pre><code class="r">library(SPODT)  
data("dataMALARIA") ;coordinates(dataMALARIA) &lt;- c("x", "y") 
proj4string(dataMALARIA) &lt;- "+proj=longlat +datum=WGS84 +ellps=WGS84"  
dataMALARIA &lt;- spTransform(dataMALARIA, CRS("+proj=merc +datum=WGS84 +ellps=WGS84"))
spodt.results &lt;- spodt(z ~ 1, data = dataMALARIA, graft = 0.13,  
                       level.max = 7, min.parent = 25, min.child = 2, rtwo.min = 0.01)
spodt.tree(spodt.results)
</code></pre>

<p><img src="https://raw.githubusercontent.com/Spatial-R/cn/gh-pages/images/SPODT/haha-1.png" alt="" /></p>

<p>上述即是SPODT分类树结果，设定好grapt参数值后，可得到6个子区域；其中$R_{global}^{2}$ (可通过spodt.results@R2获得)为0.49，表明疟疾发病风险中49%的差异可由空间效应来解释.</p>

<pre><code class="r">SSL.result &lt;- spodtSpatialLines(spodt.results, dataMALARIA) 
plot(SSL.result) 
points(dataMALARIA, cex = log(dataMALARIA@data$z *3))
</code></pre>

<p><img src="https://raw.githubusercontent.com/Spatial-R/cn/gh-pages/images/SPODT/map-1.png" alt="" /></p>

<p>上述即是SPODT结果以地图的方式呈现，可发现中部地区存在一个疟疾发病的低风险区(发病风险在0.08[0.04-0.11])，而在其下方存在一个发病高风险区(发病风险为0.47[0.39-0.55])</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>R中关于heatmap的那些事</title>
      <link>http://spatial-r.github.io/cn/2015/06/Heatmap-in-R/</link>
      <pubDate>2015-06-26T00:00:00+08:00</pubDate>
      <author>Spatial-R</author>
      <guid>http://spatial-r.github.io/cn/2015/06/Heatmap-in-R</guid>
      <content:encoded><![CDATA[<p>因为有期待，所以就会有各种偶遇。--- 记<a href="https://github.com/rstudio/d3heatmap"><strong>d3heatmap</strong></a>的出世。</p>

<hr />

<h2>那年故事</h2>

<p>如果没有记错的话，最初接触heatmap是在2010年，当然，故事还得从<a href="http://www.r-bloggers.com/">R-blogger</a>说起，在此，不得不再次强调下R-bloogger的作用，对于R的新手更是如此。
回归正题，R-blogger上第一篇关于heatmap的介绍在<a href="http://www.r-bloggers.com/how-to-make-a-heat-map-in-r/">此</a>, <a href="http://www.r-bloggers.com/visualizing-likert-items-3/">第二篇</a>, <a href="http://www.r-bloggers.com/revisiting-homicide-rates/">第三篇</a>等等。不容否认，heatmap的出现，为<strong>矩阵</strong>和<strong>数据框</strong>可视化开辟了一个新方向。</p>

<hr />

<h2>heatmap综述</h2>

<p>Heatmap主要分为两大类，静态的(static)和交互式(interactive)。R中实现静态heatmap有很多程序包，如<a href="http://mirrors.ustc.edu.cn/CRAN/web/packages/fheatmap/index.html">fheatmap</a>, <a href="http://mirrors.ustc.edu.cn/CRAN/web/packages/gapmap/index.html">gapmap</a>, <a href="http://mirrors.ustc.edu.cn/CRAN/web/packages/heatmap3/index.html">heatmap3</a>, <a href="http://mirrors.ustc.edu.cn/CRAN/web/packages/heatmap.plus/index.html">heatmap.plus</a>, <a href="http://mirrors.ustc.edu.cn/CRAN/web/packages/mcheatmaps/index.html">mcheatmaps</a>, <a href="http://mirrors.ustc.edu.cn/CRAN/web/packages/NeatMap/index.html">NeatMap</a>, <a href="http://mirrors.ustc.edu.cn/CRAN/web/packages/pheatmap/index.html">pheatmap</a>。 利用强大的<strong>ggplot2</strong>也可较好地实现heatmap，如<a href="http://blog.sina.com.cn/s/blog_79f2c16f0102uzyy.html">这个</a>和 <a href="http://www.r-bloggers.com/simplest-possible-heatmap-with-ggplot2/">这个</a>。研究基因的童鞋，对heatmap一定不陌生，见 <a href="http://blog.sina.com.cn/s/blog_6f139e9f0102v4m1.html">此文</a>。当然，对于公共卫生领域的朋友，利用heatmap也可较好地实现数据可视化，如大疫情系统中的面板数据(<strong>panel data</strong>)，多个城市或区县的逐日数据，用heatmap来呈现也是相当perfect的。</p>

<p>鉴于网上关于静态heatmap的文章已经很多(随便百度一下，总能出来那么几篇)。在此，我主要介绍交互式hetmap，主要是利用<strong>d3heatmap</strong>和 <strong>rCharts</strong>程序包。</p>

<hr />

<h2><strong>d3heatmap</strong></h2>

<p>d3heatmap的介绍可见<a href="https://github.com/rstudio/d3heatmap">此</a>,毕竟是Rstudio出品，质量没得说，其除了实现最基本的heatmap功能外，还能:</p>

<ol>
<li>点击横坐标或者坐标，进而实现类别高亮(<strong>highlight</strong>)。</li>
<li>对特定长或者宽的矩形实现放大(<strong>zoom in</strong>)。</li>
<li>可以在Rstudio中结合<strong>Markdown</strong>和<strong>shiny</strong>使用(<strong>reproduced</strong>)。</li>
</ol>


<p>废话少说，直接上示例，这个例子你同样可以在这篇<a href="http://www.r-bloggers.com/d3heatmap-interactive-heat-maps/">博文</a>中找到:</p>

<pre><code class="r">library(d3heatmap)
nba_players&lt;-read.csv("ppg2008.csv",header=T,stringsAsFactors = F)
row.names(nba_players)&lt;-nba_players$Name;nba_players$Name&lt;-NULL
d3heatmap(nba_players, scale = "column",color = "Blues")
</code></pre>

<!--html_preserve-->


<div id="htmlwidget-6336" style="width:672px;height:480px;" class="d3heatmap"></div>


<script type="application/json" data-for="htmlwidget-6336">{"x":{"rows":{"members":50,"height":57.9566457017657,"edgePar":{"col":""},"children":[{"members":48,"height":34.3709298390369,"edgePar":{"col":""},"children":[{"members":40,"height":22.142112094378,"edgePar":{"col":""},"children":[{"members":34,"height":20.9000341148047,"edgePar":{"col":""},"children":[{"members":25,"height":18.5505741420582,"edgePar":{"col":""},"children":[{"members":18,"height":13.6706001697073,"edgePar":{"col":""},"children":[{"members":14,"height":9.2537681514073,"edgePar":{"col":""},"children":[{"members":10,"height":7.85587919968224,"edgePar":{"col":""},"children":[{"members":7,"height":6.2971568981565,"edgePar":{"col":""},"children":[{"members":6,"height":5.74915741652636,"edgePar":{"col":""},"children":[{"members":4,"height":5.09466240294683,"edgePar":{"col":""},"children":[{"members":2,"height":3.05793803076518,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"Paul Pierce ","edgePar":{"col":""}},{"members":1,"height":0,"label":"Richard Jefferson ","edgePar":{"col":""}}]},{"members":2,"height":3.48693074207103,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"Rudy Gay ","edgePar":{"col":""}},{"members":1,"height":0,"label":"John Salmons ","edgePar":{"col":""}}]}]},{"members":2,"height":3.26820898964555,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"Ben Gordon ","edgePar":{"col":""}},{"members":1,"height":0,"label":"O.J. Mayo ","edgePar":{"col":""}}]}]},{"members":1,"height":0,"label":"Andre Iguodala ","edgePar":{"col":""}}]},{"members":3,"height":4.78457333520973,"edgePar":{"col":""},"children":[{"members":2,"height":3.68384391634608,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"Joe Johnson ","edgePar":{"col":""}},{"members":1,"height":0,"label":"Vince Carter ","edgePar":{"col":""}}]},{"members":1,"height":0,"label":"Brandon Roy ","edgePar":{"col":""}}]}]},{"members":4,"height":6.85175094410181,"edgePar":{"col":""},"children":[{"members":3,"height":4.54401595507762,"edgePar":{"col":""},"children":[{"members":2,"height":3.20507379010219,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"Maurice Williams ","edgePar":{"col":""}},{"members":1,"height":0,"label":"Ray Allen ","edgePar":{"col":""}}]},{"members":1,"height":0,"label":"Rashard Lewis ","edgePar":{"col":""}}]},{"members":1,"height":0,"label":"Chauncey Billups ","edgePar":{"col":""}}]}]},{"members":4,"height":9.94129423163805,"edgePar":{"col":""},"children":[{"members":3,"height":7.94316240549065,"edgePar":{"col":""},"children":[{"members":2,"height":5.67132065748358,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"Jason Terry ","edgePar":{"col":""}},{"members":1,"height":0,"label":"Nate Robinson ","edgePar":{"col":""}}]},{"members":1,"height":0,"label":"Al Harrington ","edgePar":{"col":""}}]},{"members":1,"height":0,"label":"Tony Parker ","edgePar":{"col":""}}]}]},{"members":7,"height":12.6439809000172,"edgePar":{"col":""},"children":[{"members":4,"height":8.14351238717054,"edgePar":{"col":""},"children":[{"members":2,"height":6.08705930643032,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"Devin Harris ","edgePar":{"col":""}},{"members":1,"height":0,"label":"Deron Williams ","edgePar":{"col":""}}]},{"members":2,"height":6.39468599698218,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"Jamal Crawford ","edgePar":{"col":""}},{"members":1,"height":0,"label":"Richard Hamilton ","edgePar":{"col":""}}]}]},{"members":3,"height":8.08450814830439,"edgePar":{"col":""},"children":[{"members":2,"height":5.56309679944543,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"Carmelo Anthony ","edgePar":{"col":""}},{"members":1,"height":0,"label":"Caron Butler ","edgePar":{"col":""}}]},{"members":1,"height":0,"label":"Danny Granger ","edgePar":{"col":""}}]}]}]},{"members":9,"height":14.6669850685136,"edgePar":{"col":""},"children":[{"members":5,"height":8.93851139731891,"edgePar":{"col":""},"children":[{"members":3,"height":7.16265076630154,"edgePar":{"col":""},"children":[{"members":2,"height":4.30519906624537,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"Chris Bosh ","edgePar":{"col":""}},{"members":1,"height":0,"label":"David West ","edgePar":{"col":""}}]},{"members":1,"height":0,"label":"Kevin Durant ","edgePar":{"col":""}}]},{"members":2,"height":5.67350694015615,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"Dirk Nowitzki ","edgePar":{"col":""}},{"members":1,"height":0,"label":"Antawn Jamison ","edgePar":{"col":""}}]}]},{"members":4,"height":11.2788723727153,"edgePar":{"col":""},"children":[{"members":3,"height":6.96921896628309,"edgePar":{"col":""},"children":[{"members":2,"height":5.38711035713953,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"LeBron James ","edgePar":{"col":""}},{"members":1,"height":0,"label":"Dwyane Wade ","edgePar":{"col":""}}]},{"members":1,"height":0,"label":"Kobe Bryant ","edgePar":{"col":""}}]},{"members":1,"height":0,"label":"Chris Paul ","edgePar":{"col":""}}]}]}]},{"members":6,"height":12.1702593645329,"edgePar":{"col":""},"children":[{"members":5,"height":10.733253048354,"edgePar":{"col":""},"children":[{"members":3,"height":6.57878666624781,"edgePar":{"col":""},"children":[{"members":2,"height":3.69894741784741,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"Yao Ming ","edgePar":{"col":""}},{"members":1,"height":0,"label":"Tim Duncan ","edgePar":{"col":""}}]},{"members":1,"height":0,"label":"Shaquille O'neal ","edgePar":{"col":""}}]},{"members":2,"height":4.48769305991397,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"Pau Gasol ","edgePar":{"col":""}},{"members":1,"height":0,"label":"LaMarcus Aldridge ","edgePar":{"col":""}}]}]},{"members":1,"height":0,"label":"Dwight Howard ","edgePar":{"col":""}}]}]},{"members":8,"height":15.3950751216095,"edgePar":{"col":""},"children":[{"members":5,"height":13.7172410126818,"edgePar":{"col":""},"children":[{"members":3,"height":8.4133949152527,"edgePar":{"col":""},"children":[{"members":2,"height":4.5792357440953,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"Al Jefferson ","edgePar":{"col":""}},{"members":1,"height":0,"label":"Zachary Randolph ","edgePar":{"col":""}}]},{"members":1,"height":0,"label":"Amare Stoudemire ","edgePar":{"col":""}}]},{"members":2,"height":6.49309848993529,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"Corey Maggette ","edgePar":{"col":""}},{"members":1,"height":0,"label":"Josh Howard ","edgePar":{"col":""}}]}]},{"members":3,"height":12.2345751458725,"edgePar":{"col":""},"children":[{"members":2,"height":7.43337467103603,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"Stephen Jackson ","edgePar":{"col":""}},{"members":1,"height":0,"label":"Allen Iverson ","edgePar":{"col":""}}]},{"members":1,"height":0,"label":"Kevin Martin ","edgePar":{"col":""}}]}]}]},{"members":2,"height":10.2632176241177,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"Michael Redd ","edgePar":{"col":""}},{"members":1,"height":0,"label":"Monta Ellis ","edgePar":{"col":""}}]}]},"cols":{"members":20,"height":506.98585094458,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"G","edgePar":{"col":""}},{"members":19,"height":254.69853996048,"edgePar":{"col":""},"children":[{"members":16,"height":51.0299584361971,"edgePar":{"col":""},"children":[{"members":11,"height":29.2714409963022,"edgePar":{"col":""},"children":[{"members":2,"height":20.1402581909965,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"X3PA","edgePar":{"col":""}},{"members":1,"height":0,"label":"AST","edgePar":{"col":""}}]},{"members":9,"height":15.5543838836516,"edgePar":{"col":""},"children":[{"members":6,"height":9.55719624157629,"edgePar":{"col":""},"children":[{"members":4,"height":4.80579421115803,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"BLK","edgePar":{"col":""}},{"members":3,"height":3.46694736043108,"edgePar":{"col":""},"children":[{"members":2,"height":1.43740843186618,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"X3PP","edgePar":{"col":""}},{"members":1,"height":0,"label":"FGP","edgePar":{"col":""}}]},{"members":1,"height":0,"label":"FTP","edgePar":{"col":""}}]}]},{"members":2,"height":6.10081961706786,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"STL","edgePar":{"col":""}},{"members":1,"height":0,"label":"X3PM","edgePar":{"col":""}}]}]},{"members":3,"height":11.0295058819514,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"ORB","edgePar":{"col":""}},{"members":2,"height":5.24404424085076,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"TO","edgePar":{"col":""}},{"members":1,"height":0,"label":"PF","edgePar":{"col":""}}]}]}]}]},{"members":5,"height":24.030189345904,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"FGM","edgePar":{"col":""}},{"members":4,"height":21.0347331810984,"edgePar":{"col":""},"children":[{"members":2,"height":11.6674761623926,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"DRB","edgePar":{"col":""}},{"members":1,"height":0,"label":"TRB","edgePar":{"col":""}}]},{"members":2,"height":9.27307931595541,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"FTM","edgePar":{"col":""}},{"members":1,"height":0,"label":"FTA","edgePar":{"col":""}}]}]}]}]},{"members":3,"height":144.9688587249,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"MIN","edgePar":{"col":""}},{"members":2,"height":36.6788767548844,"edgePar":{"col":""},"children":[{"members":1,"height":0,"label":"FGA","edgePar":{"col":""}},{"members":1,"height":0,"label":"PTS","edgePar":{"col":""}}]}]}]}]},"matrix":{"data":["81","3.8","3.6","0.3","0.391","0.457","0.83","1","1.5","0.7","2.8","2.7","6.7","5","5.6","5.7","6.8","37.4","14.6","20.5","82","3.6","2.4","0.2","0.397","0.439","0.805","0.8","1.4","0.7","2","3.1","6.5","3.9","4.6","5.1","6.3","35.9","14.9","19.6","79","3.1","1.7","0.7","0.351","0.453","0.767","1.2","1.1","1.4","2.6","2.8","7.2","4.2","5.5","3.3","4.4","37.3","16","18.9","79","3.8","3.2","0.3","0.417","0.472","0.83","1.1","1.6","0.7","2.1","2.3","6.5","3.5","4.2","3.6","4.4","37.5","13.8","18.3","82","5.1","3.4","0.3","0.41","0.455","0.864","0.9","2.1","0.6","2.4","2.2","7.3","2.8","3.5","4","4.7","36.6","16","20.7","82","4.6","3.2","0.2","0.384","0.438","0.879","1.1","1.8","0.7","2.8","2.5","6.9","3.1","3.8","3","3.4","38","15.6","18.5","82","3.2","5.3","0.4","0.307","0.473","0.724","1.6","1","1.1","2.7","1.9","6.6","4.6","5.7","4.6","6.4","39.8","14","18.8","79","5.2","5.8","0.2","0.36","0.437","0.826","1.1","1.9","0.8","2.5","2.2","7.8","3.6","4.4","3.8","4.6","39.5","18","21.4","80","4.9","4.7","0.5","0.385","0.437","0.817","1","1.9","0.9","2.1","2.9","7.4","4.2","5.1","4.2","5.1","36.8","16.8","20.8","78","2.8","5.1","0.3","0.377","0.48","0.824","1.1","1.1","1.3","1.9","1.6","8.1","3.4","4.7","5.3","6.5","37.2","16.9","22.6","81","5.2","4.1","0.1","0.436","0.467","0.912","0.9","2.3","0.6","2.2","2.7","6.5","2.9","3.4","2.6","2.8","35","13.9","17.8","79","6.2","2.8","0.2","0.409","0.48","0.952","0.9","2.5","0.8","1.7","2","6.3","2.7","3.5","3","3.2","36.3","13.2","18.2","79","7","2.6","0.6","0.397","0.439","0.836","1","2.8","1.2","2","2.5","6.1","4.6","5.7","2.8","3.4","36.2","13.8","17.7","79","5","6.4","0.2","0.408","0.418","0.913","1.2","2.1","0.4","2.2","2","5.2","2.6","3","5.3","5.8","35.3","12.4","17.7","74","6.2","3.4","0.3","0.366","0.463","0.88","1.3","2.3","0.5","1.6","1.9","7.3","1.9","2.4","2.7","3","33.6","15.8","19.6","74","5.2","4.1","0.1","0.325","0.437","0.841","1.3","1.7","1.3","1.9","2.8","6.1","2.6","3.9","3.4","4","29.9","13.9","17.2","73","6.4","1.4","0.3","0.364","0.439","0.793","1.2","2.3","1.4","2.2","3.1","7.3","4.9","6.2","3.2","4","34.9","16.6","20.1","72","0.9","6.9","0.1","0.292","0.506","0.782","0.9","0.3","0.4","2.6","1.5","8.9","2.7","3.1","3.9","5","34.1","17.5","22","69","3.2","6.9","0.2","0.291","0.438","0.82","1.7","0.9","0.4","3.1","2.4","6.6","2.9","3.3","7.2","8.8","36.1","15.1","21.3","68","3.3","10.7","0.3","0.31","0.471","0.849","1.1","1","0.4","3.4","2","6.8","2.5","2.9","4.8","5.6","36.9","14.5","19.4","65","6.1","4.4","0.2","0.36","0.41","0.872","0.9","2.2","0.4","2.3","1.4","6.4","2.6","3","4.6","5.3","38.1","15.7","19.7","67","2.8","4.4","0.1","0.368","0.447","0.848","0.6","1","0.7","2","2.6","7","2.4","3.1","3.3","3.9","34","15.6","18.3","66","2.6","3.4","0.4","0.371","0.443","0.793","1.1","1","1.6","3","3","8.1","5.2","6.8","5.6","7.1","34.5","18.3","22.8","67","3.1","4.3","0.3","0.31","0.453","0.858","1.6","1","1.8","3.1","2.5","7.3","4.4","6.2","5.1","6","38.6","16.2","20.8","67","6.7","2.7","1.4","0.404","0.447","0.878","1","2.7","0.7","2.5","3.1","8.5","4.4","5.1","6","6.9","36.2","19.1","25.8","77","0.6","2.5","1","0.245","0.487","0.817","0.9","0.2","2.8","2.3","2.5","8","7.2","10","6.5","8","38.1","16.4","22.7","76","0.3","2.3","0.9","0.24","0.472","0.884","0.6","0.1","2.1","2.1","2.7","8","6.4","8.5","4.8","5.5","39.3","17","21","74","3.1","2.8","0.7","0.422","0.476","0.863","1.3","1.3","1","3","1.8","8.9","5.5","6.5","6.1","7.1","39","18.8","25.3","81","2.1","2.4","0.8","0.359","0.479","0.89","0.8","0.8","1.1","1.9","2.2","9.6","7.3","8.4","6","6.7","37.7","20","25.9","81","3.9","1.9","0.3","0.351","0.468","0.754","1.2","1.4","2.4","1.5","2.7","8.3","6.5","8.9","4.2","5.6","38.2","17.8","22.2","81","4.7","7.2","1.1","0.344","0.489","0.78","1.7","1.6","1.3","3","1.7","9.7","6.3","7.6","7.3","9.4","37.7","19.9","28.4","79","3.5","7.5","1.3","0.317","0.491","0.765","2.2","1.1","1.1","3.4","2.3","10.8","3.9","5","7.5","9.8","38.6","22","30.2","82","4.1","4.9","0.5","0.351","0.467","0.856","1.5","1.4","1.1","2.6","2.3","9.8","4.1","5.2","5.9","6.9","36.2","20.9","26.8","78","2.3","11","0.1","0.364","0.503","0.868","2.8","0.8","0.9","3","2.7","8.1","4.7","5.5","5.8","6.7","38.5","16.1","22.8","77","0","1.8","1.9","1","0.548","0.866","0.4","0","2.6","3","3.3","7.4","7.2","9.9","4.9","5.7","33.6","13.4","19.7","75","0","3.5","1.7","0","0.504","0.692","0.5","0","2.7","2.2","2.3","7.4","8","10.7","4.5","6.4","33.7","14.8","19.3","75","0","1.7","1.4","0","0.609","0.595","0.7","0","2.5","2.2","3.4","6.8","5.9","8.4","4.1","6.9","30.1","11.2","17.8","81","0","3.5","1","0.5","0.567","0.781","0.6","0","3.2","1.9","2.1","7.3","6.4","9.6","4.2","5.4","37.1","12.9","18.9","81","0.3","1.9","1","0.25","0.484","0.781","1","0.1","2.9","1.5","2.6","7.4","4.6","7.5","3.2","4.1","37.1","15.3","18.1","79","0","1.4","2.9","0","0.572","0.594","1","0","4.3","3","3.4","7.1","9.6","13.8","6.4","10.7","35.7","12.4","20.6","50","0.1","1.6","1.7","0","0.497","0.738","0.8","0","3.4","1.8","2.8","9.7","7.5","11","3.7","5","36.6","19.5","23.1","50","1.9","2.1","0.3","0.33","0.475","0.734","0.9","0.6","3.1","2.3","2.7","8.3","6.9","10.1","3.6","4.9","35.1","17.5","20.8","53","0.1","2","1.1","0.429","0.539","0.835","0.9","0.1","2.2","2.8","3.1","7.6","5.9","8.1","6.1","7.3","36.8","14.1","21.4","51","1.9","1.8","0.2","0.253","0.461","0.824","0.9","0.5","1","2.4","3.8","5.7","4.6","5.5","6.7","8.1","31.1","12.4","18.6","52","3.2","1.6","0.6","0.345","0.451","0.782","1.1","1.1","1.1","1.7","2.6","6.8","3.9","5.1","3.3","4.2","31.9","15.1","18","59","5.2","6.5","0.5","0.338","0.414","0.826","1.5","1.7","1.2","3.9","2.6","7","3.9","5.1","5","6","39.7","16.9","20.7","57","1.7","5","0.1","0.283","0.417","0.781","1.5","0.5","0.5","2.6","1.5","6.1","2.5","3","4.8","6.1","36.7","14.6","17.5","51","5.4","2.7","0.2","0.415","0.42","0.867","1.2","2.3","0.6","2.9","2.3","6.7","3","3.6","9","10.3","38.2","15.9","24.6","33","5.8","2.7","0.1","0.366","0.455","0.814","1.1","2.1","0.7","1.6","1.4","7.5","2.5","3.2","4","4.9","36.4","16.6","21.2","25","1","3.7","0.3","0.308","0.451","0.83","1.6","0.3","0.6","2.7","2.7","7.8","3.8","4.3","3.1","3.8","35.6","17.2","19"],"dim":[50,20],"rows":["Paul Pierce ","Richard Jefferson ","Rudy Gay ","John Salmons ","Ben Gordon ","O.J. Mayo ","Andre Iguodala ","Joe Johnson ","Vince Carter ","Brandon Roy ","Maurice Williams ","Ray Allen ","Rashard Lewis ","Chauncey Billups ","Jason Terry ","Nate Robinson ","Al Harrington ","Tony Parker ","Devin Harris ","Deron Williams ","Jamal Crawford ","Richard Hamilton ","Carmelo Anthony ","Caron Butler ","Danny Granger ","Chris Bosh ","David West ","Kevin Durant ","Dirk Nowitzki ","Antawn Jamison ","LeBron James ","Dwyane Wade ","Kobe Bryant ","Chris Paul ","Yao Ming ","Tim Duncan ","Shaquille O'neal ","Pau Gasol ","LaMarcus Aldridge ","Dwight Howard ","Al Jefferson ","Zachary Randolph ","Amare Stoudemire ","Corey Maggette ","Josh Howard ","Stephen Jackson ","Allen Iverson ","Kevin Martin ","Michael Redd ","Monta Ellis "],"cols":["G","X3PA","AST","BLK","X3PP","FGP","FTP","STL","X3PM","ORB","TO","PF","FGM","DRB","TRB","FTM","FTA","MIN","FGA","PTS"]},"image":"data:image/png;base64,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","theme":null,"options":{"xaxis_height":80,"yaxis_width":120,"xaxis_font_size":null,"yaxis_font_size":null,"brush_color":"#0000FF","show_grid":true,"anim_duration":500}},"evals":[]}</script>


<!--/html_preserve-->


<p>短短4行代码，轻松实现交互式heatmap，同时还赠送聚类分析结果，真的很实惠。
此处图形没有出现，正在找原因，你可以在这个网页看到，请点击: <a href="http://spatial-r.github.io/Data-visualization-in-public-health/Interactive%20Heatmap/">Here</a></p>

<hr />

<h2><strong>rCharts</strong></h2>

<p>在没有d3heatmap前，<a href="http://rcharts.io/">rCharts</a>是创造交互式heatmap唯一的方式。首先得感谢<a href="http://stefan-wilhelm.net/">Stefan Wilhelm</a>, 在他的<a href="http://stefan-wilhelm.net/interactive-highcharts-heat-maps-in-r-with-rcharts/">博文</a>中介绍了用R实现交互式heatmap的方法并且附上了详细的代码。其功能和d3heatmap相比，要弱(至于弱在什么地方，读者可自行体验)，但终究是一种不错的方式。当数据超过1000行时，需重新定义turboThreshold参数，具体可见其<a href="http://stefan-wilhelm.net/interactive-highcharts-heat-maps-in-r-with-rcharts/">博文</a>。示例如下：</p>

<pre><code class="r">library(dplyr);library(rCharts);library(rjson)
#load("country.RData")
dat.f&lt;-dat.f[1:910,];colnames(dat.f) &lt;- c("y","x","value"); 
    map &lt;- Highcharts$new()
    map$chart(zoomType = "x", type = 'heatmap')
    map$title(text='Sales per employee per weekday')
    map$series(name = 'Sales per employee',data = toJSONArray2(dat.f, json=FALSE))
    map$yAxis(categories = as.character(c(16071:16080)))
    map$xAxis(categories = as.character(c(1:91)))
    map$plotOptions(series=list(turboThreshold = 4000))
    map$addParams(colorAxis = list(min = 0,minColor='#FFFFFF',maxColor='#7cb5ec'))
    map$legend(align='right',layout='vertical',margin=0,verticalAlign='top',y=35,symbolHeight=320)
    map$tooltip(formatter = "#! function() { return '&lt;b&gt;' + this.series.xAxis.categories[this.point.x] + '&lt;/b&gt; sold &lt;br&gt;&lt;b&gt;' + this.point.value + '&lt;/b&gt; items on &lt;br&gt;&lt;b&gt;' + this.series.yAxis.categories[this.point.y] + '&lt;/b&gt;'; } !#")
    map$addParams(height = 900, width=800, dom="heatmap")
</code></pre>

<p>此处我并没有将country这个数据集公开，但只要读者好好研究StefanWilhelm的那篇博文，实现交互式heatmap并不难，但考虑到d3heatmap程序包的强大，rCharts程序包仅仅只是作为一个辅助方式，所以，你懂的。</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>surveillance 程序包简介(一):暴发探测</title>
      <link>http://spatial-r.github.io/cn/2015/06/Surveillance/</link>
      <pubDate>2015-06-03T00:00:00+08:00</pubDate>
      <author>Spatial-R</author>
      <guid>http://spatial-r.github.io/cn/2015/06/Surveillance</guid>
      <content:encoded><![CDATA[<p>Welcome to surveillance Project! 这是一篇针对surveillance程序包相关方法的总结，有疑问请联系<a href="zhangbing4502431@outlook.com">张兵:Spatial-R</a></p>

<p><a href="http://surveillance.r-forge.r-project.org/">Surveillance</a> 程序包提供了一系列前瞻性爆发探测和回顾性的时空模型，主要适用的数据类型是时间序列频数、时序百分比和时序分类数据。</p>

<hr />

<h2>前瞻性暴发探测</h2>

<p>Aberration Detection(Change-point detection, Outbreak Detection)，我将其都翻译为暴发探测，但仔细推敲，各词组间含义差别还是有点大。具体如下：</p>

<ol>
<li><p><a href="http://baike.baidu.com/view/25914.htm?fromtitle=Aberration&amp;fromid=8102429&amp;type=syn">Aberration</a> 原指光行差，是指同一瞬间运动中观测者所观测的天体视方向与静止观察者所观测到天体的真方向之差，通俗理解就是偏差。</p></li>
<li><p><a href="http://baike.baidu.com/view/4399435.htm">Change-Point</a> 指在某一位置或时刻点，前后观测值遵循两个不同的模型。<a href="http://CRAN.R-project.org/package=changepoint">changepoint</a> 程序包也提供了一系列变点探测的方法，主要依托于变点前后均值或和方差的差异性。</p></li>
<li><p><a href="http://baike.baidu.com/link?url=xnLkGt0RfVwftGje17US3jJHmST1IKCoS9qEZnJ9A-5eGQ8ms4GAgTp5mCstsGjYpzkRHpaZiJ6F8Gt7nHqQj_">Disease Outbreak</a> 指在局限的区域范围和短时间内突然出现许多同类病例的现象，对于区域范围、时间范围和案例数目都没有确切定义，因而不同空间尺度下，可能会存在截然不同的疾病分布状态。</p></li>
</ol>


<p>  综上所述，用Aberration或Change-point来归纳surveillance程序包中的方法可能更加确切。同时也需注意，上述两种都是正向改变，也就是说个案数目应增多。</p>

<p><strong>surveillance</strong>程序包以<strong>S4</strong>方式，按照<strong>STS</strong>(surveillance time series)格式编排数据(该数据格式的说明可参考<a href="http://arxiv.org/pdf/1411.1292v1.pdf">此文</a>)。很多文章都对传染病监测方法进行了介绍，包括若干已经成功应用于疾病预防控制中心常规监测系统中的方法，如rki，已成功应用于德国的Robert Koch Institute。总的说来，<a href="http://arxiv.org/abs/1411.1292">Salmon et.al 2014</a>一文系统详细地介绍了目前异常值监测方法，主要分为<strong>单个异常点监测</strong>、<strong>异常时段监测</strong>和 <strong>分类数据异常监测</strong>。</p>

<p>异常点监测较为常规的方式是基于历史数据(<strong>in-control</strong>)来估计某个时刻的病例数，并与阈值想比较，若高于阈值，则将其定义为 <strong>out-control</strong>。通过比较每个时间点的in-control和out-control状态，即可获得相应变点。</p>

<hr />

<h3>单个异常点</h3>

<p>单个异常点监测是监测系统中较为常见的方式，通俗地理解就是一段时序数据中在某个时间点发生了较为重要的改变。</p>

<ol>
<li><p>Method <strong>EARS</strong>： CDC异常检测系统中的早期方法，surveillance程序包中的 <strong>sarsC</strong> 可实现这个过程，更为详细地说明可参考<a href="http://onlinelibrary.wiley.com/doi/10.1002/sim.3197/abstract">Fricker，Hegler 和 Dunfee</a>。当疾病历史数据较少时且数据较平稳时，此方法较合适，同时该程序包提供了<strong>C1</strong>、<strong>C2</strong>和<strong>C3</strong>方式来实现变点探测。但该方法没有考虑到疾病时序数据如过度离散、周期性、长期趋势和过往疾病暴发对现状的影响等特性，同时也没有对将来数据进行区间预测。</p></li>
<li><p>Method <strong>Farrington</strong>： 该方法最初由Farrington在<a href="http://www.jstor.org/pss/2983331">Farrington et.al. 1996</a> 提出，<a href="http://www.statistik.lmu.de/~hoehle/pubs/hoehle_mazick2009-preprint.pdf">Hohle和Mazick 2010</a>一文中详细介绍了该方法，其主要基于广义线性或相加模型来探测异常值，而<a href="http://www.ncbi.nlm.nih.gov/pmc/articles/PMC3692796/">Noufaily et.al 2012</a>在原方法的基础上，采用因子来校准季节性，同时当Anscombe残差大于2或者3时采用再加权进而有效改善了<strong>"低加权"</strong>现象(Down-weighting)。 FarringtonFlexible函数可实现该过程。</p></li>
<li><p>Method <strong>Boda</strong>: 在FarringtonFlexible方法的基础上，boda (Bayesian Outbreak Detection Algorithm)采用成熟的贝叶斯广义线性或相加模型，通过惩罚样条函数(Penalized Spline)来校准长期和季节性趋势，并能即时调整以往暴发或以往疾病情况对当前个案数的影响。为了更好地获得参数的后验分布，boda采用<a href="http://www.sciencedirect.com/science/article/pii/S0167947313001552">Integrated Nested Laplace Approximaxion</a>方法来逼近贝叶斯推断。</p></li>
</ol>


<hr />

<h3>异常时段</h3>

<p>时序中的异常时段由单个异常点组成，但其具体实现过程则完全不同于单个异常点监测。控制图(Control Chart)是实现异常时段监测常用方式，其来源于<a href="http://baike.baidu.com/link?url=YzdmviFnqYGO1IDJ-bN0UlPA4KG1em8MixjvW5y45cpmsULww494C3pEFtwvP2mCNVOsjtbLif7h492JVb0II_">统计控制过程</a>(Statistical process control)。然后需要注意的是，控制图并没有考虑到监测数据的过度离散和季节性特性，因而，<a href="http://www.sciencedirect.com/science/article/pii/S0167947308000716">Hohle 和 Paul 2008</a>在传统监测方法上结合统计控制过程，有效地实现异常时段监测。surveillance中的 <strong>glrnb</strong>(负二项分布) 和 <strong>glrPois</strong>(Possion分布) 函数可实现这个过程。该程序包中其他函数如 <strong>cusum</strong> 和 <strong>rogerson</strong> 等也可实现针对异常时段的监测，其效果与glrnb相比可参考<a href="http://www.sciencedirect.com/science/article/pii/S0167947308000716">Hohle 和 Paul 2008</a>。</p>

<p>在控制图中，以广义相加模型结合Possion 或 Negative binomial 分布来定义 in control 状态，而 out control 状态则由 in control 状态来反映。in control 状态的均值可由当前时刻点案例数和参数k获得（参数k可以事先设定或通过模型再估计获得），或是结合当前时刻点案例数和自相关成分综合反映。</p>

<hr />

<h3>分类数据</h3>

<p>在公共卫生监测中，目标变量可能会是分为若干亚组(Categories)的时序数据，如在疫苗接种情况下，不同年龄层传染病的发病情况异常值监测。<a href="http://www.tandfonline.com/doi/abs/10.1080/01621459.1978.10481577">Chen 1978</a>、 <a href="http://link.springer.com/article/10.1023%2FA%3A1007671903559">Reynods和Stoumbos 2000</a>和 <a href="http://www.cdc.gov/mmwr//preview/mmwrhtml/su5301a18.htm">Rogerson和Yamada 2004</a> 等文章强调了针对二分类时序数据异常值探测方法，这些方法都基于常规CUSUM方法，并没有考虑到时序数据过度离散的特性。<a href="http://www.statistik.lmu.de/~hoehle/pubs/hoehle2010-preprint.pdf">Hohle 2010</a>在上述方法的基础上，提出通过采用广义线性模型框架进而有效解决了基础SUSUM方法的缺陷(1,仅适用二分类时序数据；2，无法掌控过度离散特性)，该方法可由surveillance程序包中的<strong>categoricalCUSUM</strong> 函数实现。</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>那年夏天</title>
      <link>http://spatial-r.github.io/cn/2015/05/Summer-In-Hangzhou/</link>
      <pubDate>2015-05-15T00:00:00+08:00</pubDate>
      <author>Spatial-R</author>
      <guid>http://spatial-r.github.io/cn/2015/05/Summer-In-Hangzhou</guid>
      <content:encoded><![CDATA[<h3>试问闲愁都几许？一川烟草，满城风絮，梅子黄时雨。又是柳絮纷飞的季节，窗外之景，思绪在哪？哦，那年！</h3>

<hr />

<h2>那年夏天，心在躁动</h2>

<p>躁动的心境，其实也是一种享受。</p>

<p>虽然此时的内心并没有完全认同上述语句。</p>

<p>夏天和躁动如果能够划上一个等号，那我只适合生活在北极。</p>

<p>躁动的根本原因是无力扯开生命前那层薄纱---生命的不对等。</p>

<hr />

<h2>那年夏天，心在迷惘</h2>

<p>世界万物，迷惘只是过程，不会是结果。</p>

<p>冒险和迷惘有时候是等同的。</p>

<p>其实自己真正需要的，往往要很多年以后才能明白。</p>

<p>“蓦然回首，那人却在灯火阑珊处”的大彻大悟终究来得晚，但迟与不迟，与个人有关。</p>

<p>如果说生活重在折腾，那么曾经的迷惘和无所适从，应该就是这段路程中最为深刻的记忆。</p>

<hr />

<h2>那年夏天，心在期待</h2>

<p>还年轻，也庆幸自己还有梦。</p>

<p>理性和现实的对照，心中期待不断升华。</p>

<p>如果多年后我能对自己说，你所做的一切都是自己想要的，那时该多庆幸。</p>

<p>真实的人性中存在无尽的可能，所以，该谈恋爱就谈恋爱，该结婚就结婚。</p>

<p>总是在寻找人生的兴奋点，努力让灵魂变得热气腾腾： 窗外有风景吗？</p>

<hr />

<h2>那年夏天，心在成长</h2>

<p>迷惘和期待，终究会推着你成长，不管愿不愿意。</p>

<p>成长的心境比结果更值得回味，若干年后想想总是如此。</p>

<p>因为留恋，所以扭着头慢慢前进，内心又如何？</p>

<p>所有我懂的，不过是对现实妥协，可我还是懂了。</p>

<p>如果下次我迷惘了，请记得为我鼓掌，那才是真正意义的成长。</p>

<hr />

<h3>内心腾开一片空地，等待，下一次躁动；等到，下一个那年！</h3>
]]></content:encoded>
    </item>
    
    <item>
      <title>时空统计模型(一)：空间统计</title>
      <link>http://spatial-r.github.io/cn/2015/01/Spatial-and-Spatial-temporal/</link>
      <pubDate>2015-01-25T00:00:00+08:00</pubDate>
      <author>Spatial-R</author>
      <guid>http://spatial-r.github.io/cn/2015/01/Spatial-and-Spatial-temporal</guid>
      <content:encoded><![CDATA[<p>接触空间统计学已有近3年了，从毕设开始，得知R在空间统计方面的优势后，毅然扎进"Spatial"和"R"的世界里，Spatial-R的名称应运而生。我从不夸大空间统计学和R软件在我研究生时候的贡献，但自己对于这两样宝贝的热爱，却也不是其他东西能够比拟的。书呆子的生活自是如此，乐此不疲。</p>

<p>还是进入正题，这次主要讨论的主题是空间统计学和时空数据模型等，当然，全部是基于R来实现。因篇幅有限，在此只给大概思路，感兴趣的朋友可以进一步探讨(邮箱：<a href="zhangbing4502431@outlook.com">zhangbing4502431@outlook.com</a>)。</p>

<hr />

<p>国际上已广泛建立了传染病的早期预警平台，但主要是针对症状监测，相比于传统的病例监测，症状监测可以更早期地探测到特定传染病的发生和发展趋势。我国已经建立较为完善的传染病病例监测系统(如传染病疫情信息网络直报系统，俗称“大疫情系统”)，通过病例数据探索传染病传播过程中的异常，并及时采取相应的应对措施，可以有效降低传染病所带来的危害。</p>

<hr />

<h2>空间统计</h2>

<p>空间统计其实是个很宽泛的概念，世间万物都有其空间属性，但并不代表都能用空间统计学去诠释。当然，也有很多原本不存在明显空间熟悉的事物，我们可以将其转换成或者理解成具有空间属性。这里所强调的，也就是不仅仅只有带有经纬度属性的事物才具备空间数据。</p>

<p>目前在公共卫生领域比较常见的两类是：点数据和面数据。点数据比如传染病的发病地点；面数据比如各个区县的发病总人数。针对点数据，主要是来探讨空间点格局分布进而探讨可能的热点区域；而面数据更多是建立空间回归模型，如空间滞后模型，空间杜宾模型等。当然，空间点数据也可以建立空间回归模型，空间权重的选择往往成为头疼的话题(多大的带宽或者阈值距离最合适)。面数据也可以用以探讨热点，但其揭示的热点往往有点泛(如整个区县是热点，公共卫生的意义并不大)。</p>

<hr />

<h3>热点探测</h3>

<p>地方病、传染病及环境污染所致疾病均可表现出空间聚集性，而传染病在传播途径、流行机制等方面的特殊性决定了其病例的分布特征与其他疾病存在较大差异，其空间属性主要体现在<strong>空间自相关</strong>(空间依赖性)和<strong>空间异质性</strong>。空间自相关性表现为目标地区与邻近地区发病水平及特征较强，与距离远的地区差异大，空间异质性表现为不同地区因为其"位置"原因而存在差异。</p>

<p>公共卫生(Public Health)中较为常见的是病例个案(也就是点数据)，记录着病例个案详细的地址信息。因而在热点探测时，需将详细地址信息转换成经纬度信息。因Google地图API被封，我们可以借助百度地图API，具体操作的方式可参考我的博文(<a href="http://spatial-r.github.io/en/2014/06/Two-ways-to-get-coordinate-data/">点点</a>)。</p>

<p>获取经纬度信息后，则可利用R中的DCluster程序包和Spatsta程序包分别进行热点探测(Cluster Dectecting)和点格局分析(Pattern Analysis)。热点探测也叫聚集性分析，主要包括全局检验和局部检验。顾名思义，全局检验是看疾病在整体或者全局水平上是否具有聚集性，而不管聚集点分布在何处；而局部检验则从底层去探讨和发现可能存在的局部热点。全局聚集性探测可采用<strong>Knox</strong>和 <strong>Rogerson</strong> 等方法，局部聚集性探测则可采用<strong>Turnbull</strong>、<strong>Besag-Newell</strong> 和 <strong>时空扫描</strong> 等方法。</p>

<hr />

<h4>全局性热点探测</h4>

<hr />

<h5>Knox</h5>

<p>Knox，最早也最为经典的全局检验方法(1964由统计学家E.G.Knox提出来，用以检验疾病的时空交互作用)，能充分利用病例的时空信息，不需要人口学数据，计算简便。基本原理如下：</p>

<pre><code>    病例两两配对，然后设定时间和空间临界值，以此标准来判断病例对间距离是"近"还是"远"。
    若时间和空间距离均为"近"的病例对与期望值的差异具有统计意义，则该区域内该病存在时空聚集性。
</code></pre>

<p>   假设n个病例，则可配成N=n*(n-1)/2个病例对子，如果知道了每个个案的发病时间和发病位置，则可计算每个病例对之间的空间距离和时间距离。在定义了时间界值(t)和空间界值(s)后，Nt则为时间距离为近的病例对子总数，Ns则为空间距离较近的病例对子总数，X是时间距离和空间距离均为近的病例对子总数，也就是Knox方法的统计检验量，可得到如下的四格表：</p>

<table>
<thead>
<tr>
<th> 时间距离       </th>
<th style="text-align:center;"> &lt;s             </th>
<th style="text-align:right;"> >s    </th>
<th style="text-align:center;">  合计  </th>
</tr>
</thead>
<tbody>
<tr>
<td> &lt;t            </td>
<td style="text-align:center;">    X           </td>
<td style="text-align:right;"> b     </td>
<td style="text-align:center;">   Nt   </td>
</tr>
<tr>
<td> >t            </td>
<td style="text-align:center;"> c              </td>
<td style="text-align:right;">   d   </td>
<td style="text-align:center;">    Nt1 </td>
</tr>
<tr>
<td> 合计           </td>
<td style="text-align:center;"> Ns             </td>
<td style="text-align:right;">  NS1  </td>
<td style="text-align:center;">    n   </td>
</tr>
</tbody>
</table>


<hr />

<p>   <strong>统计推断方法包括</strong>：</p>

<ul>
<li> <strong>卡方检验</strong>：样本量较大时，可采用卡方检验，对Knox方法而言，其本身要求设定的空间临界值足够小，因而X样本量偏小的情况较常见。</li>
<li> <strong>Possion估计法</strong>：当Nt和Ns相对于N来说较小时，X的方差接近于它的均数，此时可采用Possion估计法。但当Nt和Ns较大时，使用该方法进行推断时会有偏性。</li>
<li> <strong>基于Possion分布的估计法</strong>：与Possion估计法相似，其以<strong>正态分布</strong>代替Possion分布，一般当u>20时，Possion分布近似正态分布。</li>
<li> <strong>Barton-David</strong>: 仍假设X服从正态分布，但当Ns和Nt较大时，仍能进行无偏推断。</li>
<li> <strong>蒙特卡罗法</strong>：一种无偏的估计方法，目前较好地能够进行Knox检验。</li>
</ul>


<hr />

<p>   <strong>时间、空间临界值的确定</strong>：</p>

<ul>
<li> 已知疾病信息，时间界值可按照设为其潜伏期天数，空间界值可设定为相邻农场的距离。</li>
<li> 未知疾病信息，可设置一系列时间界值和空间界值，分别对各个组合进行检验。需注意时间界值和空间界值的设定不能超过其所有病例对子的平均时间距离或平均空间距离(平均时间距离=所有病例对子的时间间隔之和/病例对子总数，平均空间距离=所有病例对子的空间距离之和/病例对子总和)</li>
</ul>


<hr />

<h5>Rogerson</h5>

<p>  <strong>Rogerson</strong>，能对传染病的时空进行动态监测，可利用历史数据和不同传染病的危害程度来调整参数和报警界值，有效降低漏报和误报。基本原理如下：</p>

<pre><code>    在Tango方法的基础上，将样本按n个单位进行分割，使得Zi呈正态或者接近正态。  
</code></pre>

<hr />

<p> 未完待续</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>美人鱼</title>
      <link>http://spatial-r.github.io/cn/2014/08/mermaid/</link>
      <pubDate>2014-08-03T00:00:00+08:00</pubDate>
      <author>Spatial-R</author>
      <guid>http://spatial-r.github.io/cn/2014/08/mermaid</guid>
      <content:encoded><![CDATA[<hr />

<p>我是渔夫，          <br/>
在日暮之时，映着夕阳， <br/>
渴望再次听一曲她的赞歌。</p>

<hr />

<p>辽阔寂静的海边，有人在贮视， <br/>
那片他早已熟悉的区域． <br/>
他的思绪，浸润在海风中， <br/>
一直飘，一直飘... <br/>
直至消散在海天相接的地方， <br/>
他想，那地方，很美吧．</p>

<hr />

<p>那天，天也是这般蓝，<br/>
蓝得只允许人去陶醉．<br/>
他，静静地望着夕阳，<br/>
望着夕阳在海天相接的地方点点消散．<br/>
蓦然，一丝乐符渗进他的耳际，<br/>
他的心，猛然地被拉紧．</p>

<hr />

<p>是谁，在夕阳下如此轻柔地歌唱 <br/>
是谁，在海边为他带来了如此动人的乐章 <br/>
是谁，又是谁...<br/>
转身，从容却又那么迫不及待． <br/>
那是一条融在夕阳里的美人鱼， <br/>
一条他只能选择远望的美人鱼．</p>

<hr />

<p>她，高贵地立在海面上， <br/>
忘我般演绎着一首生命的赞歌，<br/>
这，是他见过的最美的风景， <br/>
这，是他永生都忘记不了的记忆． <br/>
她，依旧在醉然地歌唱，  <br/>
他，依旧在醉然地聆听．</p>

<hr />

<p>多久，他不知道． <br/>
只是，歌声渐渐地飘渺，变淡， <br/>
最后，淡的他只能听见海风的呼啸． <br/>
他才觉悟地猛然抬头， <br/>
她，游走了，向着海天相交的地方， <br/>
向着那个他认为最美的地方．</p>

<hr />

<p>天，依旧那么蓝． <br/>
等待着，伴随间歇有力的涛声． <br/>
尽管他并不知道，这一次，下一次，<br/>
她，是否会出现； <br/>
尽管他已经知道，很多次，很多次， <br/>
她，都没有出现．</p>

<hr />

<p>夕阳隐没在海天的地方，<br/>
他，又望望了那片熟悉的区域， <br/>
默然间扎进了海中...</p>

<hr />

<p>09年写的小诗，无意中想起，过去的岁月，总是这样让人放不下。渔夫是孤独的，但却一如既往地守着自己的梦，有梦的生活，是幸福的。</p>

<p><img src="https://i.imgur.com/a3u3nI4.jpg" alt="Drawing" style="width: 500px;" class="alignleft"/></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>印象西湖和大运河</title>
      <link>http://spatial-r.github.io/cn/2014/08/Riding-in-Hang-zhou/</link>
      <pubDate>2014-08-01T00:00:00+08:00</pubDate>
      <author>Spatial-R</author>
      <guid>http://spatial-r.github.io/cn/2014/08/Riding-in-Hang-zhou</guid>
      <content:encoded><![CDATA[<p>人们常说，“上有天堂，下有苏杭”。<a href="http://baike.sogou.com/v256673.htm">西湖</a>和<a href="http://baike.sogou.com/v15769.htm?sp=SST%E4%BA%AC%E6%9D%AD%E5%A4%A7%E8%BF%90%E6%B2%B3">京杭大运河</a>则为杭州市两张主打的名片。来杭三次，在此地工作已近一月，都未曾一睹其芳容，只缘时机不适，是羞涩，是忐忑，还是觉得等了千年的那个女子未曾到来，不忍只身过断桥?</p>

<p>恰逢七夕，与好友兼同学兼同事兼室友(头衔有点多)组队看西湖和大运河。骑上车，“七夕”也就抛脑后。由滨江经复兴大桥，然后直驱杭州市区到达京杭大运河的南终点——拱宸桥。</p>

<blockquote><p>碧云天，绿叶地，夏色连片，片上知了醉。清风几许如何，一醉到天明！</p></blockquote>

<p><img src="https://i.imgur.com/I8dRAyP.jpg" alt="Drawing" style="width: 400px;" class="alignleft"/></p>

<hr />

<p><a href="http://baike.baidu.com/view/552989.htm?fromtitle=%E5%A4%8D%E5%85%B4%E5%A4%A7%E6%A1%A5&amp;fromid=8798773&amp;type=syn">复兴大桥</a>相比于<a href="http://baike.baidu.com/view/16154.htm">武汉长江大桥</a>，略显娇小，尽管两者的主桥长度相近(分别为1156米和1145米)，但武汉长江大桥略显霸气的引桥，是复兴大桥无法比拟的；同时，复兴大桥距水面较近，这也使得其气势大减。个人很钟爱武汉长江大桥，感觉就是一种宿命。在武汉七年，不管是同学过来游玩还是带老师参观，都会去武汉长江大桥上走走，看看长江，也感受下武汉敢为人先的魄力(各种怀念啊)。人虽离开武汉，但牵挂依旧在，只等哪天，再次带着闲暇的心境，去走走那“万里长江第一桥”。复兴大桥和钱塘江大桥的人行道都很窄，使得骑车让道变得很有技术含量，个人技术不行，一听到后面的喇叭声，立马停车靠边，心中还有些许忐忑。三座大桥的夜景都很nice，走走看看，都是一种享受！</p>

<hr />

<p>骑车2小时后，到达京杭大运河。作为世界里程最长、工程最大的古代运河，与<a href="http://baike.baidu.com/subview/2203/6173557.htm">长城</a>、<a href="http://baike.baidu.com/view/2942.htm">坎儿井</a>并称为中国古代三项伟大工程沿着大运河。继西湖申遗成功后，2014年6月，中国大运河成功入选世界文化遗产名录，为杭州这座六朝古都，又添上了一抹浓重的文化气息。沿着大运河慢走，绿树，垂柳，行人几许，生活极尽舒坦。这不由地让我想起了著有“天府之国”之称的成都，同样有2处世遗(<a href="http://baike.baidu.com/subview/2240/12000340.htm">都江堰</a>和<a href="http://baike.baidu.com/view/539806.htm">大熊猫栖息地</a>),也是极尽休闲的旅游城市。依然怀念柳絮纷飞的季节，在桥边静坐，喝茶，看云卷云舒，听小巧流水，品人来人往，心静地没有一点瑕疵。不知何时，在杭州也能重现那时的心境，洒脱地连自己都能忽略。</p>

<p><img src="http://i.imgur.com/rBl0yUt.jpg" alt="Drawing" style="width: 370px;" class="alignleft"/></p>

<hr />

<p>终点站，往往是姗姗来迟。拱宸桥对于杭州人的意义不一般，但对于我们这样的“东飘者”，只是一座带有杭州特色的古桥而已。旁边的中国刀剪剑博物馆、中国扇博物馆和中国伞博物馆都因时间太晚，早已打烊。在各种里弄里穿梭，终寻得一宁静之处，吆喝一声，开始晚餐，只可惜，晓甫的减盐项目再次受挑战，看来，口味重的人，要想健康生活，真不容易。</p>

<hr />

<p>往回走，早已夜色弥漫，灯火通明的街道，行人都在往家的方向赶！六年前，也是和晓甫他们在夜色中穿梭，闯红灯，赶速度，看着自行车和小车之间的”亲密接触",各种不文明的行为，在杭州很是收敛。夜逛西湖，繁华热闹的苏堤在九点还是人声鼎沸，上坡，下坡，再上坡，再下坡...淡妆的西子，只能用心去感受，还好有明月相伴，至少不那么落寞。行程匆匆，没有细看，也没有细品，只缘自己知道，还会再来。</p>
]]></content:encoded>
    </item>
    
  </channel>
</rss>
